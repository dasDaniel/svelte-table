!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SvelteTable=t()}(this,(function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n,o){if(e){const l=s(e,t,n,o);return e[0](l)}}function s(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function i(e,t,n,o,l,r,c){const i=function(e,t,n,o){if(e[2]&&o){const l=e[2](o(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|l[o];return e}return t.dirty|l}return t.dirty}(t,o,l,r);if(i){const l=s(t,n,o,c);e.p(l,i)}}function u(e){return null==e?"":e}function f(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function g(){return p(" ")}function y(){return p("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function k(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}class _{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=m(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)a(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(d)}}let N;function O(e){N=e}function x(){const e=function(){if(!N)throw new Error("Function called outside component initialization");return N}();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const l=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,l)})}}}const C=[],T=[],E=[],A=[],S=Promise.resolve();let B=!1;function V(e){E.push(e)}let j=!1;const L=new Set;function R(){if(!j){j=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];O(t),D(t.$$)}for(O(null),C.length=0;T.length;)T.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];L.has(t)||(L.add(t),t())}E.length=0}while(C.length);for(;A.length;)A.pop()();B=!1,j=!1,L.clear()}}function D(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}const M=new Set;let q;function z(){q={r:0,c:[],p:q}}function F(){q.r||o(q.c),q=q.p}function H(e,t){e&&e.i&&(M.delete(e),e.i(t))}function I(e,t,n,o){if(e&&e.o){if(M.has(e))return;M.add(e),q.c.push(()=>{M.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function P(e){e&&e.c()}function G(e,n,r){const{fragment:c,on_mount:s,on_destroy:i,after_update:u}=e.$$;c&&c.m(n,r),V(()=>{const n=s.map(t).filter(l);i?i.push(...n):o(n),e.$$.on_mount=[]}),u.forEach(V)}function J(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function K(e,t){-1===e.$$.dirty[0]&&(C.push(e),B||(B=!0,S.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,l,r,c,s,i,u=[-1]){const f=N;O(t);const a=l.props||{},h=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let m=!1;if(h.ctx=r?r(t,a,(e,n,...o)=>{const l=o.length?o[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=l)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](l),m&&K(t,e)),n}):[],h.update(),m=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);h.fragment&&h.fragment.l(e),e.forEach(d)}else h.fragment&&h.fragment.c();l.intro&&H(t.$$.fragment),G(t,l.target,l.anchor),R()}O(f)}function U(e,t,n){const o=e.slice();return o[36]=t[n],o}const W=e=>({row:8192&e[0]}),X=e=>({row:e[33],n:e[35]});function Y(e,t,n){const o=e.slice();return o[33]=t[n],o[35]=n,o}function Z(e,t,n){const o=e.slice();return o[36]=t[n],o}const ee=e=>({sortOrder:2&e[0],sortBy:1&e[0]}),te=e=>({sortOrder:e[1],sortBy:e[0]});function ne(e,t,n){const o=e.slice();return o[43]=t[n],o}function oe(e,t,n){const o=e.slice();return o[36]=t[n],o[41]=t,o[42]=n,o}function le(e){let t,n,o,l,r,c=e[11][e[36].key],s=[];for(let t=0;t<c.length;t+=1)s[t]=ce(ne(e,c,t));function i(){e[23].call(t,e[36])}return{c(){t=m("select"),n=m("option");for(let e=0;e<s.length;e+=1)s[e].c();n.__value=void 0,n.value=n.__value,$(t,"class",o=u(e[15](e[8]))+" svelte-w7dofd"),void 0===e[12][e[36].key]&&V(i)},m(o,c){a(o,t,c),f(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);k(t,e[12][e[36].key]),l||(r=v(t,"change",i),l=!0)},p(n,l){if(e=n,2052&l[0]){let n;for(c=e[11][e[36].key],n=0;n<c.length;n+=1){const o=ne(e,c,n);s[n]?s[n].p(o,l):(s[n]=ce(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=c.length}256&l[0]&&o!==(o=u(e[15](e[8]))+" svelte-w7dofd")&&$(t,"class",o),6148&l[0]&&k(t,e[12][e[36].key])},d(e){e&&d(t),h(s,e),l=!1,r()}}}function re(e){let t,n,o;function l(){e[22].call(t,e[36])}return{c(){t=m("input")},m(r,c){a(r,t,c),b(t,e[12][e[36].key]),n||(o=v(t,"input",l),n=!0)},p(n,o){e=n,6148&o[0]&&t.value!==e[12][e[36].key]&&b(t,e[12][e[36].key])},d(e){e&&d(t),n=!1,o()}}}function ce(e){let t,n,o,l=e[43].name+"";return{c(){t=m("option"),n=p(l),t.__value=o=e[43].value,t.value=t.__value},m(e,o){a(e,t,o),f(t,n)},p(e,r){2052&r[0]&&l!==(l=e[43].name+"")&&w(n,l),2052&r[0]&&o!==(o=e[43].value)&&(t.__value=o,t.value=t.__value)},d(e){e&&d(t)}}}function se(e){let t,n;function o(e,t){return void 0!==e[36].searchValue?re:void 0!==e[11][e[36].key]?le:void 0}let l=o(e),r=l&&l(e);return{c(){t=m("th"),r&&r.c(),n=g()},m(e,o){a(e,t,o),r&&r.m(t,null),f(t,n)},p(e,c){l===(l=o(e))&&r?r.p(e,c):(r&&r.d(1),r=l&&l(e),r&&(r.c(),r.m(t,n)))},d(e){e&&d(t),r&&r.d()}}}function ie(e){let t,n,o,l,r,c=e[36].title+"",s=e[0]===e[36].key&&fe(e);return{c(){t=m("th"),n=p(c),o=g(),s&&s.c(),l=g(),$(t,"class",r=u(e[36].headerClass)+" svelte-w7dofd")},m(e,r){a(e,t,r),f(t,n),f(t,o),s&&s.m(t,null),f(t,l)},p(e,o){4&o[0]&&c!==(c=e[36].title+"")&&w(n,c),e[0]===e[36].key?s?s.p(e,o):(s=fe(e),s.c(),s.m(t,l)):s&&(s.d(1),s=null),2052&o[0]&&r!==(r=u(e[36].headerClass)+" svelte-w7dofd")&&$(t,"class",r)},d(e){e&&d(t),s&&s.d()}}}function ue(e){let t,n,o,l,r,c,s,i=e[36].title+"",h=e[0]===e[36].key&&ae(e);function y(...t){return e[24](e[36],...t)}return{c(){t=m("th"),n=p(i),o=g(),h&&h.c(),l=g(),$(t,"class",r=u(e[15](["isSortable",e[36].headerClass]))+" svelte-w7dofd")},m(e,r){a(e,t,r),f(t,n),f(t,o),h&&h.m(t,null),f(t,l),c||(s=v(t,"click",y),c=!0)},p(o,c){e=o,4&c[0]&&i!==(i=e[36].title+"")&&w(n,i),e[0]===e[36].key?h?h.p(e,c):(h=ae(e),h.c(),h.m(t,l)):h&&(h.d(1),h=null),2052&c[0]&&r!==(r=u(e[15](["isSortable",e[36].headerClass]))+" svelte-w7dofd")&&$(t,"class",r)},d(e){e&&d(t),h&&h.d(),c=!1,s()}}}function fe(e){let t,n=(1===e[1]?e[3]:e[4])+"";return{c(){t=p(n)},m(e,n){a(e,t,n)},p(e,o){26&o[0]&&n!==(n=(1===e[1]?e[3]:e[4])+"")&&w(t,n)},d(e){e&&d(t)}}}function ae(e){let t,n=(1===e[1]?e[3]:e[4])+"";return{c(){t=p(n)},m(e,n){a(e,t,n)},p(e,o){26&o[0]&&n!==(n=(1===e[1]?e[3]:e[4])+"")&&w(t,n)},d(e){e&&d(t)}}}function de(e){let t;function n(e,t){return e[36].sortable?ue:ie}let o=n(e),l=o(e);return{c(){l.c(),t=y()},m(e,n){l.m(e,n),a(e,t,n)},p(e,r){o===(o=n(e))&&l?l.p(e,r):(l.d(1),l=o(e),l&&(l.c(),l.m(t.parentNode,t)))},d(e){l.d(e),e&&d(t)}}}function he(t){let n,o,l=(t[36].renderValue?t[36].renderValue(t[33]):t[36].value(t[33]))+"";return{c(){o=y(),n=new _(o)},m(e,t){n.m(l,e,t),a(e,o,t)},p(e,t){8196&t[0]&&l!==(l=(e[36].renderValue?e[36].renderValue(e[33]):e[36].value(e[33]))+"")&&n.p(l)},i:e,o:e,d(e){e&&d(o),e&&n.d()}}}function me(e){let t,n,o;var l=e[36].renderComponent;function r(e){return{props:{row:e[33]}}}return l&&(t=new l(r(e))),{c(){t&&P(t.$$.fragment),n=y()},m(e,l){t&&G(t,e,l),a(e,n,l),o=!0},p(e,o){const c={};if(8192&o[0]&&(c.row=e[33]),l!==(l=e[36].renderComponent)){if(t){z();const e=t;I(e.$$.fragment,1,0,()=>{J(e,1)}),F()}l?(t=new l(r(e)),P(t.$$.fragment),H(t.$$.fragment,1),G(t,n.parentNode,n)):t=null}else l&&t.$set(c)},i(e){o||(t&&H(t.$$.fragment,e),o=!0)},o(e){t&&I(t.$$.fragment,e),o=!1},d(e){e&&d(n),t&&J(t,e)}}}function pe(e){let t,n,o,l,r,c,s,i;const h=[me,he],p=[];function y(e,t){return e[36].renderComponent?0:1}function w(...t){return e[25](e[33],e[36],...t)}return n=y(e),o=p[n]=h[n](e),{c(){t=m("td"),o.c(),l=g(),$(t,"class",r=u(e[15]([e[36].class,e[10]]))+" svelte-w7dofd")},m(e,o){a(e,t,o),p[n].m(t,null),f(t,l),c=!0,s||(i=v(t,"click",w),s=!0)},p(s,i){let f=n;n=y(e=s),n===f?p[n].p(e,i):(z(),I(p[f],1,1,()=>{p[f]=null}),F(),o=p[n],o||(o=p[n]=h[n](e),o.c()),H(o,1),o.m(t,l)),(!c||3076&i[0]&&r!==(r=u(e[15]([e[36].class,e[10]]))+" svelte-w7dofd"))&&$(t,"class",r)},i(e){c||(H(o),c=!0)},o(e){I(o),c=!1},d(e){e&&d(t),p[n].d(),s=!1,i()}}}function ge(e){let t;const n=e[21].row,o=c(n,e,e[20],X),l=o||function(e){let t,n,o,l,r,c,s=e[2],i=[];for(let t=0;t<s.length;t+=1)i[t]=pe(U(e,s,t));const f=e=>I(i[e],1,1,()=>{i[e]=null});function p(...t){return e[26](e[33],...t)}return{c(){t=m("tr");for(let e=0;e<i.length;e+=1)i[e].c();o=g(),$(t,"class",n=u(e[15](e[9]))+" svelte-w7dofd")},m(e,n){a(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);a(e,o,n),l=!0,r||(c=v(t,"click",p),r=!0)},p(o,r){if(e=o,304132&r[0]){let n;for(s=e[2],n=0;n<s.length;n+=1){const o=U(e,s,n);i[n]?(i[n].p(o,r),H(i[n],1)):(i[n]=pe(o),i[n].c(),H(i[n],1),i[n].m(t,null))}for(z(),n=s.length;n<i.length;n+=1)f(n);F()}(!l||512&r[0]&&n!==(n=u(e[15](e[9]))+" svelte-w7dofd"))&&$(t,"class",n)},i(e){if(!l){for(let e=0;e<s.length;e+=1)H(i[e]);l=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)I(i[e]);l=!1},d(e){e&&d(t),h(i,e),e&&d(o),r=!1,c()}}}(e);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,t){o?o.p&&1056768&t[0]&&i(o,n,e,e[20],t,W,X):l&&l.p&&9732&t[0]&&l.p(e,t)},i(e){t||(H(l,e),t=!0)},o(e){I(l,e),t=!1},d(e){l&&l.d(e)}}}function ye(e){let t,n,o,l,r,s,p,y,v,w=e[14]&&function(e){let t,n=e[2],o=[];for(let t=0;t<n.length;t+=1)o[t]=se(oe(e,n,t));return{c(){t=m("tr");for(let e=0;e<o.length;e+=1)o[e].c();$(t,"class","svelte-w7dofd")},m(e,n){a(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,l){if(39172&l[0]){let r;for(n=e[2],r=0;r<n.length;r+=1){const c=oe(e,n,r);o[r]?o[r].p(c,l):(o[r]=se(c),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(e){e&&d(t),h(o,e)}}}(e);const b=e[21].header,k=c(b,e,e[20],te),_=k||function(e){let t,n=e[2],o=[];for(let t=0;t<n.length;t+=1)o[t]=de(Z(e,n,t));return{c(){t=m("tr");for(let e=0;e<o.length;e+=1)o[e].c()},m(e,n){a(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,l){if(98335&l[0]){let r;for(n=e[2],r=0;r<n.length;r+=1){const c=Z(e,n,r);o[r]?o[r].p(c,l):(o[r]=de(c),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(e){e&&d(t),h(o,e)}}}(e);let N=e[13],O=[];for(let t=0;t<N.length;t+=1)O[t]=ge(Y(e,N,t));const x=e=>I(O[e],1,1,()=>{O[e]=null});return{c(){t=m("table"),n=m("thead"),w&&w.c(),o=g(),_&&_.c(),r=g(),s=m("tbody");for(let e=0;e<O.length;e+=1)O[e].c();$(n,"class",l=u(e[15](e[6]))+" svelte-w7dofd"),$(s,"class",p=u(e[15](e[7]))+" svelte-w7dofd"),$(t,"class",y=u(e[15](e[5]))+" svelte-w7dofd")},m(e,l){a(e,t,l),f(t,n),w&&w.m(n,null),f(n,o),_&&_.m(n,null),f(t,r),f(t,s);for(let e=0;e<O.length;e+=1)O[e].m(s,null);v=!0},p(e,o){if(e[14]&&w.p(e,o),k?k.p&&1048579&o[0]&&i(k,b,e,e[20],o,ee,te):_&&_.p&&31&o[0]&&_.p(e,o),(!v||64&o[0]&&l!==(l=u(e[15](e[6]))+" svelte-w7dofd"))&&$(n,"class",l),1484292&o[0]){let t;for(N=e[13],t=0;t<N.length;t+=1){const n=Y(e,N,t);O[t]?(O[t].p(n,o),H(O[t],1)):(O[t]=ge(n),O[t].c(),H(O[t],1),O[t].m(s,null))}for(z(),t=N.length;t<O.length;t+=1)x(t);F()}(!v||128&o[0]&&p!==(p=u(e[15](e[7]))+" svelte-w7dofd"))&&$(s,"class",p),(!v||32&o[0]&&y!==(y=u(e[15](e[5]))+" svelte-w7dofd"))&&$(t,"class",y)},i(e){if(!v){H(_,e);for(let e=0;e<N.length;e+=1)H(O[e]);v=!0}},o(e){I(_,e),O=O.filter(Boolean);for(let e=0;e<O.length;e+=1)I(O[e]);v=!1},d(e){e&&d(t),w&&w.d(),_&&_.d(e),h(O,e)}}}function ve(e,t,n){let{$$slots:o={},$$scope:l}=t;const r=x();let{columns:c}=t,{rows:s}=t,{sortBy:i=""}=t,{sortOrder:u=1}=t,{iconAsc:f="▲"}=t,{iconDesc:a="▼"}=t,{classNameTable:d=""}=t,{classNameThead:h=""}=t,{classNameTbody:m=""}=t,{classNameSelect:p=""}=t,{classNameRow:g=""}=t,{classNameCell:y=""}=t,v=()=>"",$=c.some(e=>void 0!==e.filterOptions),w={},b={},k={};c.forEach(e=>{n(28,k[e.key]=e,k)});const _=(e,t)=>{var o;o=t.key,n(1,u=o===i&&1===u?-1:1),n(0,i=t.key),r("clickCol",{event:e,col:t,key:t.key})},N=(e,t)=>{r("clickRow",{event:e,row:t})},O=(e,t,n)=>{r("clickCell",{event:e,row:t,key:n})};let C;return e.$$set=e=>{"columns"in e&&n(2,c=e.columns),"rows"in e&&n(19,s=e.rows),"sortBy"in e&&n(0,i=e.sortBy),"sortOrder"in e&&n(1,u=e.sortOrder),"iconAsc"in e&&n(3,f=e.iconAsc),"iconDesc"in e&&n(4,a=e.iconDesc),"classNameTable"in e&&n(5,d=e.classNameTable),"classNameThead"in e&&n(6,h=e.classNameThead),"classNameTbody"in e&&n(7,m=e.classNameTbody),"classNameSelect"in e&&n(8,p=e.classNameSelect),"classNameRow"in e&&n(9,g=e.classNameRow),"classNameCell"in e&&n(10,y=e.classNameCell),"$$scope"in e&&n(20,l=e.$$scope)},e.$$.update=()=>{if(268435457&e.$$.dirty[0]){let e=k[i];void 0!==e&&!0===e.sortable&&"function"==typeof e.value&&n(27,v=t=>e.value(t))}403181570&e.$$.dirty[0]&&n(13,C=s.filter(e=>Object.keys(b).every(t=>""===b[t]||k[t].searchValue&&(k[t].searchValue(e)+"").toLocaleLowerCase().indexOf((b[t]+"").toLocaleLowerCase())>=0||void 0===b[t]||b[t]===("function"==typeof k[t].filterValue?k[t].filterValue(e):k[t].value(e)))).map(e=>Object.assign({},e,{$sortOn:v(e)})).sort((e,t)=>e.$sortOn>t.$sortOn?u:e.$sortOn<t.$sortOn?-u:0)),524292&e.$$.dirty[0]&&$&&c&&s&&(n(11,w={}),c.forEach(e=>{"function"==typeof e.filterOptions?n(11,w[e.key]=e.filterOptions(s),w):Array.isArray(e.filterOptions)&&n(11,w[e.key]=e.filterOptions.map(e=>({name:e,value:e})),w)}))},[i,u,c,f,a,d,h,m,p,g,y,w,b,C,$,e=>[].concat(e).filter(e=>"string"==typeof e&&""!==e).join(" "),_,N,O,s,l,o,function(e){b[e.key]=this.value,n(12,b),n(2,c),n(11,w)},function(e){b[e.key]=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(12,b),n(2,c),n(11,w)},(e,t)=>_(t,e),(e,t,n)=>{O(n,e,t.key)},(e,t)=>{N(t,e)}]}return class extends class{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){var t;super(),document.getElementById("svelte-w7dofd-style")||((t=m("style")).id="svelte-w7dofd-style",t.textContent="table.svelte-w7dofd.svelte-w7dofd{width:100%}.isSortable.svelte-w7dofd.svelte-w7dofd{cursor:pointer}tr.svelte-w7dofd th select.svelte-w7dofd{width:100%}",f(document.head,t)),Q(this,e,ve,ye,r,{columns:2,rows:19,sortBy:0,sortOrder:1,iconAsc:3,iconDesc:4,classNameTable:5,classNameThead:6,classNameTbody:7,classNameSelect:8,classNameRow:9,classNameCell:10},[-1,-1])}}}));
//# sourceMappingURL=SvelteTable.js.map
